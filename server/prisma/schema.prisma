
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}
 

model user {
  id String @id @default(auto()) @map("_id") @db.ObjectId
  name String?
  phone_numer Float @unique
  email String? @unique
  ratings Float @default(0)
  totalRides Float @default(0)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  rides rides[] @relation("userrides")
}

enum VehicleType {
  Car
  Motocycle
  CNG
}

model driver {
  id String @id @default(auto()) @map("_id") @db.ObjectId
  name String
  country String
  phone_number String @unique
  email String @unique
  vehicle_type VehicleType
  registration_number Float @unique
  registration_date DateTime
  driving_license Float
  vehicle_color String?
  rate Float
  ratings Float @default(0)
  totalEarnings Float @default(0)
  totalRides Float @default(0)
  pendingRides Float @default(0)
  cancelRides Float @default(0)
  rides rides[] @relation("DriverRides")
} 

model rides {
  id String @id @default(auto()) @map("_id") @db.ObjectId
  userId String @db.ObjectId
  DriverId String @db.ObjectId
  charge Float
  driver driver @relation("DriverRides", fields: [DriverId], references:[id])
  user user @relation("userrides", fields: [userId], references: [id])
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}